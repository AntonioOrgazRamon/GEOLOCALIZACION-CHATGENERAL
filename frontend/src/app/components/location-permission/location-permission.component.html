<div class="modal-overlay" (click)="skip()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>Obteniendo tu UbicaciÃ³n</h2>
    <p>Estamos obteniendo tu ubicaciÃ³n automÃ¡ticamente para mostrarte usuarios cercanos.</p>
    <p class="info-text">ğŸ’¡ <strong>Consejo:</strong> AsegÃºrate de permitir el acceso a tu ubicaciÃ³n cuando tu navegador lo solicite.</p>
    
    <div *ngIf="loading" class="loading-message">
      <p>Esperando permiso de ubicaciÃ³n...</p>
    </div>

    <div *ngIf="error" class="error-message">
      {{ error }}
      <div class="error-help" *ngIf="error.includes('denegado') || error.includes('denied')">
        <p>Para habilitar la ubicaciÃ³n:</p>
        <ul>
          <li>Chrome/Edge: ConfiguraciÃ³n â†’ Privacidad y seguridad â†’ ConfiguraciÃ³n del sitio â†’ UbicaciÃ³n</li>
          <li>Firefox: ConfiguraciÃ³n â†’ Privacidad y seguridad â†’ Permisos â†’ UbicaciÃ³n</li>
        </ul>
      </div>
    </div>

    <div class="modal-actions">
      <button 
        class="btn btn-primary" 
        (click)="requestLocation()" 
        [disabled]="loading"
        *ngIf="error">
        {{ loading ? 'Obteniendo ubicaciÃ³n...' : 'Intentar de nuevo' }}
      </button>
      <button 
        class="btn btn-secondary" 
        (click)="skip()" 
        [disabled]="loading">
        Continuar sin ubicaciÃ³n precisa
      </button>
    </div>
  </div>
</div>
